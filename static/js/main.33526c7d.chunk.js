(this["webpackJsonpunsplash-image-search"]=this["webpackJsonpunsplash-image-search"]||[]).push([[0],{14:function(e,t,n){},46:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(31),r=n.n(a),c=n(32),s=n(5),i=n.n(s),o=n(11),u=n(4),l=n(0),j=(n(14),n(2)),h=n(10),d=Object(l.createContext)(null),b=n(33),p=n.n(b),m=n(34),x=(n(46),n(1));function O(e){return m.isMobile?Object(x.jsx)("div",{className:"overflow-y-auto",children:e.children}):Object(x.jsx)(p.a,{className:"AppScroolbar",children:e.children})}var f=n(18),g=n.n(f),v="&client_id=k7OYrmaj7NjZpJJ9QYDXE0jejMLhB-rm7NTO3SLHbJ0",w="https://api.unsplash.com/",S="".concat("https://image.tmdb.org/t/p/","w500"),y="".concat(S,"null"),N=function(e){return e.pathname.substring(0,e.pathname.lastIndexOf("/")+1)},C=function(e){return e.pathname.substring(e.pathname.lastIndexOf("/")+1)};function I(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://unsplash.com/nautocomplete/".concat(t),e.next=3,g.a.get(n);case 3:return a=e.sent,e.abrupt("return",a.data.autocomplete);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(w,"search/photos?query=").concat(t).concat(v),e.next=3,E(n);case 3:return a=e.sent,e.abrupt("return",a.map((function(e){return{id:e.id,regularImgQuality:e.urls.regular,fullImgQuality:e.urls.full,name:e.user.name,username:e.user.username,location:e.user.location,description:e.description,profile_image:e.user.profile_image.medium,tags:e.tags.map((function(e){return e.title}))}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(t);case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return Object(l.useEffect)((function(){function e(){document.documentElement.style.setProperty("--vh","".concat(window.innerHeight/100,"px"))}return window.addEventListener("resize",e()),window.addEventListener("orientationchange",e()),function(){document.removeEventListener("resize",e),document.removeEventListener("orientationchange",e)}}),[]),Object(x.jsx)(x.Fragment,{})}var L=n(19),P=n.n(L),Q=n.p+"static/media/no_image.2f8a70e1.png",H=n.p+"static/media/pin.72e55ebe.svg";function J(e){var t=e.open,n=e.onClose,a=e.id,r=Object(l.useContext)(d).imagesData;return Object(x.jsx)(h.a,{exitBeforeEnter:!0,children:t&&Object(x.jsxs)(h.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[Object(x.jsx)("div",{className:"DarkerBG"}),Object(x.jsx)("div",{className:"SingleImage",children:r.filter((function(e){return e.id===a})).map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsxs)("div",{className:"userData",children:[Object(x.jsx)("img",{src:e.profile_image,alt:"profile img"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:e.name}),Object(x.jsxs)("p",{className:"username",children:["@",e.username]})]})]}),Object(x.jsx)("div",{className:"btnContainer",children:Object(x.jsx)("button",{className:"btn btn-exit","aria-label":"Close",onClick:n,children:Object(x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})})]}),Object(x.jsx)("img",{src:e.regularImgQuality,alt:"img ".concat(e.id)}),Object(x.jsxs)("div",{className:"location",children:[e.location&&Object(x.jsx)("img",{src:H,alt:"location img"}),Object(x.jsx)("p",{children:e.location}),Object(x.jsx)("p",{className:"description",children:e.description})]})]})}))})]})})}function M(){var e=Object(l.useContext)(d),t=e.imagesData,n=e.searchID,a=Object(l.useState)(!1),r=Object(u.a)(a,2),c=r[0],s=r[1],i=Object(l.useState)(),o=Object(u.a)(i,2),j=o[0],h=o[1];return Object(x.jsxs)("div",{className:"galleryCards",children:[Object(x.jsx)("p",{className:"title",children:n}),Object(x.jsx)(L.ResponsiveMasonry,{columnsCountBreakPoints:{475:1,575:2,1e3:3,1800:4},children:Object(x.jsx)(P.a,{children:t.map((function(e){return Object(x.jsx)("div",{className:"cardContainer",children:Object(x.jsxs)("div",{className:"Card",children:[Object(x.jsx)("img",{src:e.regularImgQuality!==y?e.regularImgQuality:Q,className:0===e.tags.length&&"roundCorners",alt:"poster ".concat(e.id),onClick:function(t){return function(e,t){e.preventDefault(),console.log(t),h(t),s(!0)}(t,e.id)}}),Object(x.jsx)("div",{children:e.tags.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:e})})}))})]},e.id)})}))})}),Object(x.jsx)(J,{open:c,onClose:function(){return s(!1)},id:j})]})}function R(){var e=Object(l.useContext)(d),t=e.searchbarText,n=e.autoCompltions,a=e.showSuggestions,r=e.hoveredSuggestionIdx,c=function(){var e=Object(l.useContext)(d),t=e.searchbarText,n=e.setSearchbarText,a=e.oldSearchbarText,r=e.setSearchID,c=e.pushToHistory,s=e.setAllMoviesData,i=e.fetchPopularMoviesOnStartPage,o=e.setShowSuggestions,u=e.search;return[function(e){t&&void 0!==e&&(c("/s/".concat(e)),n(a),o(!1),u(e),r(e))},function(){s([]),n(""),i(),c("/")}]}(),s=Object(u.a)(c,1)[0];return Object(x.jsx)("ul",{className:"searchbar_ul "+(a&&t.length>=3&&"fadeIn"),children:n.length>0?n.map((function(e,t){return Object(x.jsx)("li",{className:"searchbar_li "+(r===t&&"active"),onClick:function(){return s(e.query)},index:t,children:Object(x.jsx)("p",{children:e.query})},t)})):Object(x.jsx)("li",{className:"noResult",children:Object(x.jsx)("p",{children:"no suggestions"})})})}var q=n.p+"static/media/lupe.af78e9aa.svg";function z(){var e=Object(l.useContext)(d),t=e.searchbarText,n=e.oldSearchbarText,a=e.onSearchbarTextChanging,r=function(e){var t=Object(l.useContext)(d),n=t.searchbarText,a=t.setSearchbarText,r=t.oldSearchbarText,c=t.setOldSearchbarText,s=t.showResInSearchBar,u=t.setShowSuggestions,j=Object(l.useRef)();function h(e){j.current.contains(e.target)||u(!1)}return Object(l.useEffect)((function(){return document.addEventListener("mousedown",h),function(){document.removeEventListener("mousedown",h)}}),[]),[j,function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),""===n&&(s(r),a(r),c(""));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}(),c=Object(u.a)(r,2),s=c[0],j=c[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"searchBar",ref:s,children:[Object(x.jsx)("img",{src:q,alt:"lupe"}),Object(x.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(x.jsx)("input",{onChange:a,type:"text",placeholder:"Search free high-resolution photos",value:t||n,onClick:j})})]}),Object(x.jsx)(R,{})]})}function A(){return Object(x.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-9 col-12 gallerySearchbar",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)(z,{})})})}function F(){return Object(x.jsxs)(h.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(x.jsx)(A,{}),Object(x.jsx)(M,{})]})}var G=n.p+"static/media/BG_Unsplash.57fddc0a.jpg";function U(){return Object(x.jsxs)(h.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(x.jsx)("div",{className:"startPage",children:Object(x.jsxs)("div",{className:"row container",children:[Object(x.jsx)("h1",{children:"Unsplash"}),Object(x.jsxs)("p",{children:["The internet's source of",Object(x.jsx)("a",{href:"https://unsplash.com/license",children:"freely-usable images"}),Object(x.jsx)("br",{}),"Powered by creators everywhere."]}),Object(x.jsx)(z,{})]})}),Object(x.jsx)("img",{className:"BgImage",src:G,alt:"background_image"})]})}function W(){var e=Object(j.g)(),t=Object(j.f)(),n=Object(l.useState)(function(e){var t=C(e);return""===t?"157336":t}(e)),a=Object(u.a)(n,2),r=a[0],s=a[1];Object(l.useEffect)((function(){g(r),console.log(r)}),[r]),Object(l.useEffect)((function(){s(C(e))}),[e.pathname]);var b=Object(l.useState)([]),p=Object(u.a)(b,2),m=p[0],f=p[1],g=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:n=e.sent,f(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(l.useState)(""),w=Object(u.a)(v,2),S=w[0],y=w[1],k=Object(l.useState)(""),D=Object(u.a)(k,2),E=D[0],B=D[1],L=Object(l.useState)([]),P=Object(u.a)(L,2),Q=P[0],H=P[1],J=Object(l.useState)(!1),M=Object(u.a)(J,2),R=M[0],q=M[1],z=Object(l.useState)(),A=Object(u.a)(z,2),G=A[0],W=A[1],Y=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.length&&B(""),!(t.length>=3)){e.next=8;break}return e.t0=H,e.next=5,I(t);case 5:e.t1=e.sent,(0,e.t0)(e.t1),B(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){console.log({imagesData:m})}),[m]),Object(x.jsxs)("div",{children:[Object(x.jsx)(_,{}),Object(x.jsx)(d.Provider,{value:Object(c.a)({searchID:r,searchbarText:S,setSearchbarText:y,oldSearchbarText:E,setOldSearchbarText:B,onSearchbarTextChanging:function(e){var t=e.target.value.replace(/[^\w\s]/gi,"");y(t),Y(t)},imagesData:m,setImagesData:f,setSearchID:s,showResInSearchBar:Y,history:t,pushToHistory:function(e){return t.push(e)},autoCompltions:Q,showSuggestions:R,setShowSuggestions:q,hoveredSuggestionIdx:G,setHoveredSuggestionIdx:W,search:g},"searchID",r),children:Object(x.jsx)(O,{children:Object(x.jsx)(h.a,{exitBeforeEnter:!0,children:Object(x.jsxs)(j.c,{location:e,children:[Object(x.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(x.jsx)(U,{})}}),Object(x.jsx)(j.a,{exact:!0,path:"/s/:".concat(r),render:function(){return Object(x.jsx)(F,{})}})]},N(e))})})})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=n(17);r.a.render(Object(x.jsx)(Y.a,{basename:"/zad_rekrut-hand2band-unsplash_img_search",children:Object(x.jsx)(W,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.33526c7d.chunk.js.map