(this["webpackJsonpunsplash-image-search"]=this["webpackJsonpunsplash-image-search"]||[]).push([[0],{14:function(e,t,n){},44:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(30),a=n.n(c),r=n(5),s=n.n(r),o=n(10),i=n(3),u=n(0),l=(n(14),n(2)),h=n(13),j=Object(u.createContext)(null),b=n(31),d=n.n(b),x=n(32),O=(n(44),n(1));function m(e){return x.isMobile?Object(O.jsx)("div",{className:"overflow-y-auto",children:e.children}):Object(O.jsx)(d.a,{className:"AppScroolbar",children:e.children})}var p=n(16),f=n.n(p),v="&client_id=k7OYrmaj7NjZpJJ9QYDXE0jejMLhB-rm7NTO3SLHbJ0",g="https://api.unsplash.com/",S="https://image.tmdb.org/t/p/",w="".concat(S,"w500"),y="".concat(w,"null"),C=("".concat(S,"originalnull"),"".concat(g,"/3/movie/popular?").concat(v),function(e){return e.pathname.substring(0,e.pathname.lastIndexOf("/")+1)}),T=function(e){return e.pathname.substring(e.pathname.lastIndexOf("/")+1)};function N(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://unsplash.com/nautocomplete/".concat(t),e.next=3,f.a.get(n);case 3:return c=e.sent,e.abrupt("return",c.data.autocomplete);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(g,"/3/movie/").concat(t,"?&").concat(v));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return Object(u.useEffect)((function(){function e(){document.documentElement.style.setProperty("--vh","".concat(window.innerHeight/100,"px"))}return window.addEventListener("resize",e()),window.addEventListener("orientationchange",e()),function(){document.removeEventListener("resize",e),document.removeEventListener("orientationchange",e)}}),[]),Object(O.jsx)(O.Fragment,{})}var D=n(15),_=n.p+"static/media/no_image.2f8a70e1.png";function B(){var e=Object(u.useContext)(j),t=e.searchbarText,n=e.suggestions,c=e.setMovieID;return Object(O.jsx)("div",{className:"StartPageCards",children:Object(O.jsxs)("div",{className:"Container",children:[Object(O.jsx)("p",{className:"title",children:!t&&"Trending Now"}),Object(O.jsx)("div",{className:"row",children:n.map((function(e,t){return Object(O.jsx)("div",{className:"smallCard col-xl-2 col-md-3 col-4",children:Object(O.jsx)(D.b,{to:"/movie/".concat(e[1]),className:"linkStyle",children:Object(O.jsxs)("div",{onClick:function(){return c(e[1])},children:[Object(O.jsx)("img",{src:e[2]!==y?e[2]:_,alt:"poster ".concat(t)}),Object(O.jsx)("p",{children:e[0]})]})})},t)}))})]})})}function H(){var e=Object(u.useContext)(j),t=e.searchbarText,n=e.oldSearchbarText,c=e.onSearchbarTextChanging,a=e.handleClickOnInput;return Object(O.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-9 col-12 st-search st-animation",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(O.jsx)("input",{onChange:c,className:"myForm1 myForm-animation",type:"text",placeholder:"Search Movie Title...",value:""!==t?t:n,onClick:a})})})})})}function L(){return Object(O.jsxs)(h.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(O.jsx)(H,{}),Object(O.jsx)(B,{})]})}var P=Object(u.createContext)(null);function R(){var e=Object(u.useContext)(j),t=e.searchbarText,n=e.setSearchbarText,c=e.oldSearchbarText,a=e.setMovieID,r=e.pushToHistory,s=e.setAllMoviesData,o=e.fetchPopularMoviesOnStartPage,i=Object(u.useContext)(P).setShowQuickSearchRes;return[function(e){t&&void 0!==e&&(r("/movie/".concat(e[1])),n(c),i(!1),a(e[1]))},function(){s([]),n(""),o(),r("/")}]}function J(){var e=Object(u.useContext)(P),t=e.showSuggestions,n=e.hoveredSuggestionIdx,c=Object(u.useContext)(j),a=c.searchbarText,r=c.autoCompltions,s=R(),o=Object(i.a)(s,1)[0];return Object(O.jsx)(O.Fragment,{children:r.length>0?Object(O.jsx)("ul",{className:"searchbar_ul "+(t&&a&&"fadeIn"),children:r.map((function(e,t){return Object(O.jsx)("li",{className:"searchbar_li "+(n===t&&"active"),onClick:function(){return o(e)},index:t,children:Object(O.jsx)("p",{className:"",children:e.query})},t)}))}):Object(O.jsx)("ul",{className:"fadeIn searchbar_ul",children:Object(O.jsx)("li",{className:"searchbar_li noResult",children:"no result"})})})}function F(){var e=Object(u.useContext)(j),t=e.searchbarText,n=e.oldSearchbarText,c=e.onSearchbarTextChanging,a=function(){var e=Object(u.useContext)(j),t=(e.suggestions,e.pushToHistory,Object(u.useContext)(P)),n=(t.showQuickSearchRes,t.setShowQuickSearchRes,t.indexOfHighlightedMovie,t.setIndexOfHighlightedMovie,R());return Object(i.a)(n,1)[0],[function(e){e.keyCode||e.which}]}(),r=Object(i.a)(a,1)[0],l=function(){var e=Object(u.useContext)(j),t=e.searchbarText,n=e.setSearchbarText,c=e.oldSearchbarText,a=e.setOldSearchbarText,r=e.showResInSearchBar,i=Object(u.useContext)(P).setShowSuggestions,l=Object(u.useRef)();function h(e){l.current.contains(e.target)||i(!1)}return Object(u.useEffect)((function(){return document.addEventListener("mousedown",h),function(){document.removeEventListener("mousedown",h)}}),[]),[l,function(){var e=Object(o.a)(s.a.mark((function e(o){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),""===t&&(r(c),n(c),a(""));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}(),h=Object(i.a)(l,2),b=h[0],d=h[1],x=R();Object(i.a)(x,2)[1];return Object(O.jsx)("div",{className:"movieSearchBar",children:Object(O.jsxs)("div",{className:"row container",children:[Object(O.jsx)("h1",{children:"Unsplash"}),Object(O.jsxs)("p",{children:["The internet's source of freely-usable images ",Object(O.jsx)("br",{}),"Powered by creators everywhere."]}),Object(O.jsxs)("div",{ref:b,children:[Object(O.jsx)("form",{className:"searchbox",onSubmit:function(e){return e.preventDefault()},children:Object(O.jsx)("input",{onChange:c,className:"movieSearchBarInput",type:"text",placeholder:"Search Movie Title...",value:""!==t?t:n,onKeyPress:r,onClick:d})}),Object(O.jsx)(J,{})]})]})})}var Q=n.p+"static/media/BG_Unsplash.57fddc0a.jpg";function z(){var e=Object(u.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(u.useState)(),r=Object(i.a)(a,2),s=r[0],o=r[1];return Object(O.jsx)(P.Provider,{value:{showSuggestions:n,setShowSuggestions:c,hoveredSuggestionIdx:s,setIndexOfHighlightedMovie:o},children:Object(O.jsxs)(h.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(O.jsx)(F,{}),Object(O.jsx)("img",{className:"BgImage",src:Q,alt:"background_image"})]})})}function A(){var e=Object(l.g)(),t=Object(l.f)(),n=Object(u.useState)([]),c=Object(i.a)(n,2),a=c[0],r=c[1],b=Object(u.useState)(""),d=Object(i.a)(b,2),x=d[0],p=d[1],f=Object(u.useState)(function(e){var t=T(e);return""===t?"157336":t}(e)),v=Object(i.a)(f,2),g=v[0],S=v[1],w=Object(u.useState)({}),y=Object(i.a)(w,2),k=y[0],E=y[1];Object(u.useEffect)(Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=E,e.next=3,I(g);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[g]),Object(u.useEffect)((function(){S(T(e))}),[e.pathname]);var D=Object(u.useState)([]),_=Object(i.a)(D,2),B=_[0],H=_[1],P=Object(u.useState)([]),R=Object(i.a)(P,2),J=R[0],F=R[1],Q=Object(u.useState)(""),A=Object(i.a)(Q,2),U=A[0],W=A[1],Y=function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.length&&W(""),!(t.length>=3)){e.next=8;break}return e.t0=H,e.next=5,N(t);case 5:e.t1=e.sent,(0,e.t0)(e.t1),W(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){console.log(B)}),[B]),Object(O.jsxs)("div",{children:[Object(O.jsx)(M,{}),Object(O.jsx)(j.Provider,{value:{movieID:g,movieData:k,searchbarText:x,setSearchbarText:p,oldSearchbarText:U,setOldSearchbarText:W,suggestions:a,setSuggestions:r,onSearchbarTextChanging:function(e){var t=e.target.value.replace(/[^\w\s]/gi,"");p(t),Y(t)},allMoviesData:J,setAllMoviesData:F,setMovieID:S,showResInSearchBar:Y,history:t,pushToHistory:function(e){return t.push(e)},autoCompltions:B},children:Object(O.jsx)(m,{children:Object(O.jsx)(h.a,{exitBeforeEnter:!0,children:Object(O.jsxs)(l.c,{location:e,children:[Object(O.jsx)(l.a,{exact:!0,path:"/",render:function(){return Object(O.jsx)(z,{})}}),Object(O.jsx)(l.a,{exact:!0,path:"/:".concat(g),render:function(){return Object(O.jsx)(L,{})}})]},C(e))})})})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(O.jsx)(D.a,{basename:"/zad_rekrut-hand2band-unsplash_img_search",children:Object(O.jsx)(A,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[67,1,2]]]);
//# sourceMappingURL=main.5498dc61.chunk.js.map