(this["webpackJsonpunsplash-image-search"]=this["webpackJsonpunsplash-image-search"]||[]).push([[0],{14:function(e,t,n){},45:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var r=n(31),a=n.n(r),c=n(5),s=n.n(c),i=n(11),o=n(4),u=n(0),l=(n(14),n(2)),j=n(9),d=Object(u.createContext)(null),h=n(32),b=n.n(h),p=n(33),x=(n(45),n(1));function m(e){return p.isMobile?Object(x.jsx)("div",{className:"overflow-y-auto",children:e.children}):Object(x.jsx)(b.a,{className:"AppScroolbar",children:e.children})}var O=n(18),f=n.n(O),g="&client_id=k7OYrmaj7NjZpJJ9QYDXE0jejMLhB-rm7NTO3SLHbJ0",v="https://api.unsplash.com/",y="".concat("https://image.tmdb.org/t/p/","w500"),w="".concat(y,"null");function S(e){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://unsplash.com/nautocomplete/".concat(t),e.next=3,f.a.get(n);case 3:return r=e.sent,e.abrupt("return",r.data.autocomplete);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(v,"search/photos?query=").concat(t).concat(g),e.next=3,I(n);case 3:return r=e.sent,e.abrupt("return",r.map((function(e){return{id:e.id,regularImgQuality:e.urls.regular,fullImgQuality:e.urls.full,name:e.user.name,username:e.user.username,location:e.user.location,description:e.description,profile_image:e.user.profile_image.medium,tags:e.tags.map((function(e){return e.title}))}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(t);case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(e){return e.pathname.substring(0,e.pathname.lastIndexOf("/")+1)},B=function(e){return e.pathname.substring(e.pathname.lastIndexOf("/")+1)};function _(){return Object(u.useEffect)((function(){function e(){document.documentElement.style.setProperty("--vh","".concat(window.innerHeight/100,"px"))}return window.addEventListener("resize",e()),window.addEventListener("orientationchange",e()),function(){document.removeEventListener("resize",e),document.removeEventListener("orientationchange",e)}}),[]),Object(x.jsx)(x.Fragment,{})}var D=n(19),L=n.n(D),P=n.p+"static/media/no_image.2f8a70e1.png",Q=n.p+"static/media/pin.72e55ebe.svg";function H(e){var t=e.open,n=e.onClose,r=e.id,a=Object(u.useContext)(d).imagesData;return Object(x.jsx)(j.a,{exitBeforeEnter:!0,children:t&&Object(x.jsxs)(j.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[Object(x.jsx)("div",{className:"DarkerBG"}),Object(x.jsx)("div",{className:"SingleImage",children:a.filter((function(e){return e.id===r})).map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsxs)("div",{className:"userData",children:[Object(x.jsx)("img",{src:e.profile_image,alt:"profile img"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:e.name}),Object(x.jsxs)("p",{className:"username",children:["@",e.username]})]})]}),Object(x.jsx)("div",{className:"btnContainer",children:Object(x.jsx)("button",{className:"btn btn-exit","aria-label":"Close",onClick:n,children:Object(x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})})]}),Object(x.jsx)("img",{src:e.regularImgQuality,alt:"img ".concat(e.id)}),Object(x.jsxs)("div",{className:"location",children:[e.location&&Object(x.jsx)("img",{src:Q,alt:"location img"}),Object(x.jsx)("p",{children:e.location}),Object(x.jsx)("p",{className:"description",children:e.description})]})]})}))})]})})}function J(){var e=Object(u.useContext)(d),t=e.setSearchbarText,n=e.oldSearchbarText,r=e.setSearchID,a=e.pushToHistory,c=e.setShowSuggestions;return[function(e){void 0!==e&&(a("/s/".concat(e)),t(n),c(!1),r(e))},function(){t(""),a("/")}]}function R(){var e=Object(u.useContext)(d),t=e.imagesData,n=e.searchID,r=J(),a=Object(o.a)(r,1)[0],c=Object(u.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],h=Object(u.useState)(),b=Object(o.a)(h,2),p=b[0],m=b[1];return Object(x.jsxs)("div",{className:"galleryCards",children:[Object(x.jsx)(j.a,{exitBeforeEnter:!0,children:Object(x.jsxs)(j.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(x.jsx)("p",{className:"title",children:n}),Object(x.jsx)(D.ResponsiveMasonry,{columnsCountBreakPoints:{475:1,575:2,1e3:3,1800:4},children:Object(x.jsx)(L.a,{children:t.map((function(e){return Object(x.jsx)("div",{className:"cardContainer",children:Object(x.jsxs)("div",{className:"Card",children:[Object(x.jsx)("img",{src:e.regularImgQuality!==w?e.regularImgQuality:P,className:0===e.tags.length&&"roundCorners",alt:"poster ".concat(e.id),onClick:function(t){return n=e.id,m(n),void l(!0);var n}}),Object(x.jsx)("div",{children:e.tags.map((function(e){return Object(x.jsx)("div",{onClick:function(){return a(e)},children:Object(x.jsx)("p",{children:e})})}))})]})},e.id)}))})})]},n)}),Object(x.jsx)(H,{open:i,onClose:function(){return l(!1)},id:p})]})}function q(){var e=Object(u.useContext)(d),t=e.searchbarText,n=e.suggestions,r=e.showSuggestions,a=e.hoveredSuggestionIdx,c=J(),s=Object(o.a)(c,1)[0];return Object(x.jsx)("ul",{className:"searchbar_ul "+(r&&t.length>=3&&"fadeIn"),children:n.length>0?n.map((function(e,t){return Object(x.jsx)("li",{className:"searchbar_li "+(a===t&&"active"),onClick:function(){return s(e.query)},index:t,children:Object(x.jsx)("p",{children:e.query})},t)})):Object(x.jsx)("li",{className:"noResult",children:Object(x.jsx)("p",{children:"no suggestions"})})})}var z=n.p+"static/media/lupe.af78e9aa.svg";function M(){var e=Object(u.useContext)(d),t=e.searchbarText,n=e.oldSearchbarText,r=e.onSearchbarTextChanging,a=function(e){var t=Object(u.useContext)(d),n=t.searchbarText,r=t.setSearchbarText,a=t.oldSearchbarText,c=t.setOldSearchbarText,o=t.showResInSearchBar,l=t.setShowSuggestions,j=Object(u.useRef)();function h(e){j.current.contains(e.target)||l(!1)}return Object(u.useEffect)((function(){return document.addEventListener("mousedown",h),function(){document.removeEventListener("mousedown",h)}}),[]),[j,function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),""===n&&(o(a),r(a),c(""));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}(),c=Object(o.a)(a,2),l=c[0],j=c[1],h=J(),b=Object(o.a)(h,1)[0];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"searchBar",ref:l,children:[Object(x.jsx)("div",{onClick:function(){return b(t)},children:Object(x.jsx)("img",{src:z,alt:"lupe"})}),Object(x.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(x.jsx)("input",{onChange:r,type:"text",placeholder:"Search free high-resolution photos",value:t||n,onKeyPress:function(e){13===(e.keyCode||e.which)&&b(t)},onClick:j})})]}),Object(x.jsx)(q,{})]})}function F(){return Object(x.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-9 col-12 gallerySearchbar",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)(M,{})})})}function G(){return Object(x.jsxs)(j.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(x.jsx)(F,{}),Object(x.jsx)(R,{})]})}var U=n.p+"static/media/BG_Unsplash.57fddc0a.jpg";function W(){return Object(x.jsxs)(j.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(x.jsx)("div",{className:"startPage",children:Object(x.jsxs)("div",{className:"row container",children:[Object(x.jsx)("h1",{children:"Unsplash"}),Object(x.jsxs)("p",{children:["The internet's source of\xa0",Object(x.jsx)("a",{href:"https://unsplash.com/license",children:"freely-usable images"}),Object(x.jsx)("br",{}),"Powered by creators everywhere."]}),Object(x.jsx)(M,{})]})}),Object(x.jsx)("img",{className:"BgImage",src:U,alt:"background_image"})]})}function Y(){var e=Object(l.g)(),t=Object(l.f)(),n=Object(u.useState)([]),r=Object(o.a)(n,2),a=r[0],c=r[1],h=Object(u.useState)(B(e)),b=Object(o.a)(h,2),p=b[0],O=b[1];Object(u.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=6;break}return e.t0=c,e.next=4,C(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(p),console.log(p)}),[p]),Object(u.useEffect)((function(){O(B(e))}),[e.pathname]);var f=Object(u.useState)(""),g=Object(o.a)(f,2),v=g[0],y=g[1],w=Object(u.useState)(""),N=Object(o.a)(w,2),k=N[0],I=N[1],T=Object(u.useState)([]),D=Object(o.a)(T,2),L=D[0],P=D[1],Q=Object(u.useState)(!1),H=Object(o.a)(Q,2),J=H[0],R=H[1],q=Object(u.useState)(),z=Object(o.a)(q,2),M=z[0],F=z[1],U=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.length&&I(""),!(t.length>=3)){e.next=8;break}return e.t0=P,e.next=5,S(t);case 5:e.t1=e.sent,(0,e.t0)(e.t1),I(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){console.log(a)}),[a]),Object(x.jsxs)("div",{children:[Object(x.jsx)(_,{}),Object(x.jsx)(d.Provider,{value:{searchID:p,searchbarText:v,setSearchbarText:y,oldSearchbarText:k,setOldSearchbarText:I,onSearchbarTextChanging:function(e){var t=e.target.value.replace(/[^\w\s]/gi,"");y(t),U(t)},imagesData:a,setSearchID:O,showResInSearchBar:U,pushToHistory:function(e){return t.push(e)},suggestions:L,showSuggestions:J,setShowSuggestions:R,hoveredSuggestionIdx:M,setHoveredSuggestionIdx:F},children:Object(x.jsx)(m,{children:Object(x.jsx)(j.a,{exitBeforeEnter:!0,children:Object(x.jsxs)(l.c,{location:e,children:[Object(x.jsx)(l.a,{exact:!0,path:"/",render:function(){return Object(x.jsx)(W,{})}}),Object(x.jsx)(l.a,{exact:!0,path:"/s/:".concat(p),render:function(){return Object(x.jsx)(G,{})}})]},E(e))})})})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(17);a.a.render(Object(x.jsx)(A.a,{basename:"/zad_rekrut-hand2band-unsplash_img_search",children:Object(x.jsx)(Y,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.241e7174.chunk.js.map